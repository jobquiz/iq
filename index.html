<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MCQ Quiz Popup</title>
  <!-- Bootstrap CSS -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; }
    /* বড় পপ আপ: modal-xl + প্রয়োজনে কাস্টম প্রস্থ */
    .modal-xl { --bs-modal-width: 900px; } /* চাইলে 1140px+ পর্যন্ত নিতে পারেন */
    .option-btn { text-align: left; margin-bottom: 10px; }

    /* আরও গাঢ় সবুজ (সঠিক) */
    .option-btn.correct,
    .btn-success.correct {
      background-color: #0f8a2b !important;
      border-color: #0b6a21 !important;
      color: #fff !important;
      box-shadow: 0 0 0 0.2rem rgba(15,138,43,0.25) !important;
    }
    .option-btn.correct:hover,
    .option-btn.correct:focus {
      background-color: #0d7a26 !important;
      border-color: #0a5f1e !important;
    }

    /* উজ্জ্বল লাল (ভুল) */
    .option-btn.incorrect,
    .btn-danger.incorrect {
      background-color: #ff1f3d !important;
      border-color: #d3132c !important;
      color: #fff !important;
      box-shadow: 0 0 0 0.25rem rgba(255,31,61,0.25) !important;
    }
    .option-btn.incorrect:hover,
    .option-btn.incorrect:focus {
      background-color: #ff0c2e !important;
      border-color: #c50f27 !important;
    }

    .option-btn:disabled { opacity: 1; cursor: default; }
    .question-card { padding: 16px; border: 1px solid #eee; border-radius: 8px; margin-bottom: 18px; }
    .answer-reveal { font-size: 0.95rem; margin-top: 6px; color: #444; }
    .sticky-footer { position: sticky; bottom: 0; background: #fff; padding-top: 12px; border-top: 1px solid #eee; }
  </style>
</head>
<body class="p-3">

  <div class="container">
    <h3 class="mb-3">MCQ Quiz (Popup)</h3>
    <p class="text-muted">নীচের বোতাম ক্লিক করলে বড় পপ-আপে ৫টি প্রশ্ন একসাথে আসবে। উত্তর সিলেক্ট করলেই সাথে সাথে সঠিক/ভুল দেখাবে।</p>
    <button class="btn btn-primary btn-lg" data-bs-toggle="modal" data-bs-target="#quizModal">
      কুইজ শুরু করুন
    </button>
  </div>

  <!-- Modal -->
  <div class="modal fade" id="quizModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-scrollable">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">৫টি তাত্ক্ষণিক MCQ</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="বন্ধ করুন"></button>
        </div>

        <div class="modal-body">
          <div id="quizContainer"></div>
        </div>

        <div class="modal-footer sticky-footer">
          <div class="me-auto">
            <span id="scoreLine" class="fw-semibold">স্কোর: 0 / 5</span>
          </div>
          <button id="retryBtn" class="btn btn-outline-secondary">আবার দিন</button>
          <button class="btn btn-success" data-bs-dismiss="modal">শেষ</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    // ১) এখানে আপনার প্রশ্নগুলো সম্পাদনা করুন (question, options, correctIndex)
    const QUESTION_BANK = [
      {
       question: "বিখ্যাত মুনিপুরী নাচ বাংলাদেশের কোন অঞ্চলের?",
        options: ["রংপুর", "বান্দারবান", "সুনামগঞ্জ", "কক্সবাজার"],
        correctIndex: 2
      },
      {
        question: "সর্বদলীয় কেন্দ্রীয় রাষ্ট্রভাষা সংগ্রাম পরিষদের আহ্বায়ক কে ছিলেন?",
        options: ["মওলানা ভাসানী", "আব্দুল মতিন", "কাজী গোলাম মাহবুব", "আবুল কাশেম"],
        correctIndex: 2
      },
      {
        question: "মারমাদের বর্ষবরণ উৎসবের নাম কী?",
        options: ["বিজু", "সাংগ্রাই", "ওয়াংগালা", "সোহরাই"],
        correctIndex: 1
      },
      {
        question: "ADB এর প্রতিবেদন অনুযায়ী, ইন্টারনেট ব্যবহারে দক্ষিণ এশিয়ায় শীর্ষ দেশ-",
        options: ["ভারত", "ভুটান", "বাংলাদেশ", "নেপাল"],
        correctIndex: 3
      },
      {
        question: "বিশ্বের সবচেয়ে বেশি তেলের মজুদ রয়েছে কোন দেশে?",
        options: ["ভেনেজুয়েলা", "সৌদি আরব", "যুক্তরাষ্ট্র", "রাশিয়া "],
        correctIndex: 0
      },
      // আরও প্রশ্ন যোগ করতে পারেন...
    ];

    // ২) প্রতিবার ৫টি প্রশ্ন নেয়া (এলোমেলো করে প্রথম ৫টি)
    function pickFiveRandom(arr) {
      const copy = [...arr];
      for (let i = copy.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [copy[i], copy[j]] = [copy[j], copy[i]];
      }
      return copy.slice(0, 5);
    }

    let currentFive = [];
    let answered = 0;
    let score = 0;

    const quizContainer = document.getElementById("quizContainer");
    const scoreLine = document.getElementById("scoreLine");
    const retryBtn = document.getElementById("retryBtn");

    function renderQuiz() {
      quizContainer.innerHTML = "";
      score = 0;
      answered = 0;
      scoreLine.textContent = "স্কোর: 0 / 5";

      currentFive = pickFiveRandom(QUESTION_BANK);

      currentFive.forEach((q, idx) => {
        const card = document.createElement("div");
        card.className = "question-card";

        const title = document.createElement("h6");
        title.className = "mb-2";
        title.textContent = `প্রশ্ন ${idx + 1}: ${q.question}`;
        card.appendChild(title);

        const btnGroup = document.createElement("div");
        q.options.forEach((opt, oi) => {
          const btn = document.createElement("button");
          btn.type = "button";
          btn.className = "btn btn-outline-secondary option-btn w-100";
          btn.textContent = opt;

          btn.addEventListener("click", () => {
            if (btnGroup.dataset.locked === "1") return;
            btnGroup.dataset.locked = "1";

            const correctIdx = q.correctIndex;
            const kids = btnGroup.querySelectorAll("button");
            kids.forEach((k, kidx) => {
              k.disabled = true;
              if (kidx === correctIdx) {
                k.classList.remove("btn-outline-secondary");
                // সঠিকটিতে গভীর সবুজ
                k.classList.add("btn-success", "correct");
              }
            });

            if (oi === correctIdx) {
              score++;
            } else {
              // ভুলটিতে উজ্জ্বল লাল
              btn.classList.remove("btn-outline-secondary");
              btn.classList.add("btn-danger", "incorrect");

              const reveal = document.createElement("div");
              reveal.className = "answer-reveal";
              reveal.innerHTML = `সঠিক উত্তর: <strong>${q.options[correctIdx]}</strong>`;
              card.appendChild(reveal);
            }

            answered++;
            scoreLine.textContent = `স্কোর: ${score} / 5`;
          });

          btnGroup.appendChild(btn);
        });

        card.appendChild(btnGroup);
        quizContainer.appendChild(card);
      });
    }

    // মডাল খোলার সাথে সাথে নতুন ৫টি প্রশ্ন রেন্ডার
    const quizModal = document.getElementById("quizModal");
    quizModal.addEventListener("show.bs.modal", () => {
      renderQuiz();
    });

    // আবার দিন
    retryBtn.addEventListener("click", () => {
      renderQuiz();
    });
  </script>
</body>
</html>

